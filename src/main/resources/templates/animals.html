<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Animals</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- подключение стилей bootstrap -->
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
    <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
      background-color: #f5f7fa;
      color: #333;
      line-height: 1.6;
      padding-bottom: 100px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    /* Стили для header */
    header {
      background-color: #fff;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: red;
    }
    /* Логотип */
    .logo {
      display: flex;
      align-items: center;
      text-decoration: none;
    }
    .logo-icon {
      font-size: 58px;
      color: #4a6cf7;
      margin-right: 15px;
    }
    .logo-text {
      font-size: 24px;
      font-weight: 700;
      background: linear-gradient(90deg, #4a6cf7, #6a11cb);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .logo-text p {
      line-height: 20px;
      text-align: center;
      margin-left: 10px;
      margin-top: 20px;
    }
    /* Навигация */
    .nav-menu {
      display: flex;
      list-style: none;
    }
    .nav-item {
      margin: 0 15px;
      position: relative;
    }
    .nav-link {
      text-decoration: none;
      color: #333;
      font-weight: 600;
      font-size: 16px;
      padding: 8px 0;
      transition: color 0.3s ease;
      display: flex;
      align-items: center;
    }
    .nav-link:hover {
      color: #4a6cf7;
    }
    .nav-link i {
      margin-right: 6px;
      font-size: 14px;
    }
    /* Кнопки действий */
    .header-actions {
      display: flex;
      align-items: center;
    }
    .btn {
      padding: 10px 24px;
      border-radius: 6px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      margin-left: 12px;
    }
    .btn-login {
      background-color: transparent;
      color: #4a6cf7;
      border: 2px solid #4a6cf7;
    }
    .btn-login:hover {
      background-color: #4a6cf7;
      color: white;
    }
    .btn-signup {
      background-color: #4a6cf7;
      color: white;
      box-shadow: 0 4px 12px rgba(74, 108, 247, 0.3);
    }
    .btn-signup:hover {
      background-color: #3a5ce5;
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(74, 108, 247, 0.4);
    }
    h2 {
      font-size: 34px;
      color: #f5f5f5
      font-style: italic;
      text-align: center;
      padding-top: 20px;
    }
    section {
      position: absolute;
      width: 100%;
    }
    .text-white {
        text-align: center;
        margin: 0 50px
    }
    img {
      width: 200px;
      height: 200px;
    }
    .section_first{
      display: flex;
      justify-content: space-around;
      margin-bottom: 20px;
    }
    .section_second {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      background-color: red;
    }
    .glow-on-hover {
        font-style: italic;
        width: 200px;
        height: 50px;
        border: none;
        outline: none;
        background: #f5f5f5;
        cursor: pointer;
        position: relative;
        z-index: 0;
        border-radius: 10px;
    }
    .glow-on-hover a {
        color: black;
    }
    .glow-on-hover:before {
        content: '';
        background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
        position: absolute;
        top: -2px;
        left:-2px;
        background-size: 400%;
        z-index: -1;
        filter: blur(5px);
        width: calc(100% + 4px);
        height: calc(100% + 4px);
        animation: glowing 20s linear infinite;
        opacity: 0;
        transition: opacity .3s ease-in-out;
        border-radius: 10px;
    }
    .glow-on-hover:active {
        color: #000
    }
    .glow-on-hover:active:after {
        background: transparent;
    }
    .glow-on-hover:hover:before {
        opacity: 1;
    }
    .glow-on-hover:after {
        z-index: -1;
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        background: white;
        left: 0;
        top: 0;
        border-radius: 10px;
    }
    a {
        color: #445e9e;
        font-weight: 500;
        text-decoration: none;
    }
    @keyframes glowing {
        0% { background-position: 0 0; }
        50% { background-position: 400% 0; }
        100% { background-position: 0 0; }
    }
        /* Адаптивность */
    @media (max-width: 992px) {
    .nav-menu {
      position: fixed;
      top: 70px;
      left: 0;
      width: 100%;
      background-color: #fff;
      flex-direction: column;
      align-items: center;
      padding: 20px 0;
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
      transform: translateY(-100%);
      opacity: 0;
      visibility: hidden;
      transition: all 0.4s ease;
      z-index: 999;
    }
    .nav-menu.active {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }
    .nav-item {
      margin: 12px 0;
      width: 100%;
      text-align: center;
    }
    .nav-link {
      justify-content: center;
      padding: 12px 0;
    }
  }
    @media (max-width: 576px) {
    .header-actions .btn-text {
      display: none;
    }
    .header-actions .btn {
      padding: 10px 15px;
    }
    .btn-login i, .btn-signup i {
      margin-right: 0;
    }
    .logo-text {
      font-size: 20px;
    }
  }
    </style>
</head>
<body>
<!-- Вставка шапки (header) -->
<!-- th:insert добавляет содержимое <header> в <div id="header"> -->
<div th:insert="~{fragments :: header}"></div>
<main>
<div class="main_container">
    <h2>Наши питомцы</h2>
    <section>
        <div class="section_first">
            <button class="glow-on-hover">
                <a th:href="@{/sorting_form}">Выбрать по параметрам</a>
            </button>
        </div>
        <!-- Здесь будут карточки животных с фото, именем и описанием -->
        <div class="section_second">
            <th:block th:each="animal : ${listAnimals}">
                <div class="card text-white bg-dark mb-3" style="width: 18rem;">
                    <img class="card-img-top" th:src="@{'data:image/jpeg;base64,' + ${animal.photo}}">
                    <div class="card-body">
                        <h3 class="card-title">[[${animal.nickname}]]</h3>
                        <p class="card-title">[[${animal.gender}]]</p>
                        <p class="card-text">[[${animal.getTypeBreed()}]]</p>
                        <a th:href="@{'/animals/current/' + ${animal.id}}" class="btn btn-primary">Узнать больше</a>
                    </div>
                </div>
            </th:block>
        </div>
        <div th:if = "${totalPages > 1}">
            <div class = "row col-sm-10">
                <div class = "col-sm-2">
                    Total Rows: [[${totalItems}]]
                </div>
                <div class = "col-sm-1">
        <span th:each="i: ${#numbers.sequence(1, totalPages)}">
          <a th:if="${currentPage != i}" th:href="@{'/page/' + ${i} + '/animals' + '?sortField=' +
                   ${sortField} + '&sortDir=' + ${sortDir}}">[[${i}]]</a>
          <span th:unless="${currentPage != i}">[[${i}]]</span> &nbsp; &nbsp;
        </span>
                </div>
                <div class = "col-sm-1">
                    <a th:if="${currentPage < totalPages}" th:href="@{'/page/' + ${currentPage+1} + '/animals' + '?sortField=' +
                    ${sortField} + '&sortDir=' + ${sortDir}}">NEXT</a>
                    <span th:unless="${currentPage < totalPages}">NEXT</span>
                </div>
                <div class = "col-sm-1">
                    <a th:if="${currentPage < totalPages}" th:href="@{'/page/' + ${totalPages} + '/animals' + '?sortField=' +
                    ${sortField} + '&sortDir=' + ${sortDir}}">LAST</a>
                    <span th:unless="${currentPage < totalPages}">LAST</span>
                </div>
            </div>
        </div>
    </section>
</div>
<div>
    <a th:href="@{/index}">Вернуться обратно</a>
</div>
</main>
<!-- подключение скриптов bootstrap -->
<script th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
</body>
</html>